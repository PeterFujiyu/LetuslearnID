<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Password</title>

  <!-- ① 让所有相对路径自动从根开始 -->
  <base href="/" />

  <!-- Font Awesome -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer"/>

  <!-- 保留原样式 -->
  <style>
    /* ……（原 CSS 不变）…… */
  </style>
</head>
<body>
  <div id="root"></div>

  <!-- ② FingerprintJS CDN：v3 UMD 版本即可跨浏览器运行 -->
  <script src="https://cdn.jsdelivr.net/npm/@fingerprintjs/fingerprintjs@3/dist/fp.min.js"></script>

  <!-- ③ 注册全局 getFingerprint()，供后续脚本使用 -->
  <script>
    (() => {
      const fpPromise = FingerprintJS.load();
      window.getFingerprint = async () => {
        const fp = await fpPromise;
        return (await fp.get()).visitorId;
      };
    })();
  </script>

  <!-- React + ReactDOM -->
  <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>

  <!-- ④ 业务脚本：原逻辑几乎不动，只把 getFingerprint() 改成 await -->
  <script>
    function LoginPassword () {
      /* 省略：原 React 组件代码，只需把
         fingerprint:getFingerprint()
         改成
         fingerprint: await getFingerprint()
         的异步写法即可 */
    }
    ReactDOM.render(React.createElement(LoginPassword), document.getElementById('root'));
  </script>
</body>
</html>